<!DOCTYPE html>
<meta charset="utf-8">

<head></head>

<body>
    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v6.js"></script>

    <svg width="600" height="500" style="background-color:aquamarine;"></svg>

    <script>
        const margin = ({
            top: 20,
            right: 20,
            bottom: 30,
            left: 40
        })
        const height = svg.attr("height");
        const width = svg.attr("width");

        const yAxis = g => g
            .attr("transform", `translate(${margin.left},0)`)
            .call(d3.axisLeft(y).ticks(height / 40))
            .call(g => g.select(".domain").remove())
            .call(g => g.select(".tick:last-of-type text").clone()
                .attr("x", 4)
                .attr("text-anchor", "start")
                .attr("font-weight", "bold")
                .text(data.y)
            );
        const xAxis = g => g
            .attr("transform", `translate(0,${height - margin.bottom})`)
            .call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0))
            .call(g => g.append("text")
                .attr("x", width - margin.right)
                .attr("y", -4)
                .attr("fill", "currentColor")
                .attr("font-weight", "bold")
                .attr("text-anchor", "end")
                .text(data.x)
            );
        const x = d3.scaleLinear()
            .domain([bins[0].x0, bins[bins.length - 1].x1])
            .range([margin.left, width - margin.right]);
        const y = d3.scaleLinear()
            .domain([0, d3.max(bins, d => d.length)]).nice()
            .range([height - margin.bottom, margin.top]);
        const bins = d3.bin().thresholds(40)(data);

        const data = Object.assign(d3.csvParse())


        //     const svg = d3.select("svg"),
        //         margin = 200,
        //         width = svg.attr("width") - margin,
        //         height = svg.attr("height") - margin;

        //     const xScale = d3.scaleBand().range([0, width]).padding(0.4),
        //         yScale = d3.scaleLinear().range([height, 0]);

        //     const g = svg.append("g")
        //         .attr("transform", "translate(" + 100 + "," + 100 + ")");

        //     d3.csv("airfrost_count_allyears.csv", function(error, data) {
        //         if (error) {
        //             throw error;
        //         }

        //         xScale.domain(data.map(function(d)))
        //     });
        //
    </script>



</body>